<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
        }

        .carousel_container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding: 60px 0;
        }

        .carousel_track {
            display: flex;
            transition: transform 0.5s ease-in-out;
            gap: 20px;
            padding: 0 10%;
        }

        .carousel_slide {
            min-width: 100%;
            background: #F2E9E2;
            border-radius: 16px;
            /* flex-shrink: 0; */
            display: flex;
            justify-content: space-between;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            transition: opacity 0.5s ease, transform 0.5s ease;
            gap: 30px;
        }

        .carousel_text {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .carousel_slide.dimmed {
            opacity: 0.5;
            transform: scale(0.95);
        }

        .carousel_slide img {
            width: 45%;
            border-radius: 10px;
        }

        .carousel_content {
            width: 50%;
            padding-left: 20px;
            align-items: center;
            color: rgba(103, 77, 62, 1);
        }

        .carousel_content>h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .carousel_content>p {
            font-size: 0.95rem;
            margin-bottom: 6px;
            line-height: 1.4;
        }

        .nav_button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            background: none;
            border: none;
            cursor: pointer;
            color: #585858;
            z-index: 10;
        }

        .nav_button:hover {
            color: #000;
        }

        .prev {
            left: 10px;
        }

        .next {
            right: 10px;
        }

        .dots {
            text-align: center;
            margin-top: 20px;
        }

        .dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin: 0 6px;
            background-color: #bbb;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .dot.active {
            background-color: #333;
        }

        /* 미디어 시작 */

        @media (min-width: 361px) and (max-width: 1024px) {
            .carousel_slide {
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            .carousel_container>.carousel_track>.carousel_slide>h2 {
                font-size: 20px;
            }

            .carousel_slide img {
                width: 50%;
            }

            .carousel_content {
                width: 50%;
                padding: 0;
            }

            .carousel_text {
                flex-direction: column;
            }

            .carousel_text>div>h3 {
                font-size: 18px;
            }

            .carousel_text>div>strong {
                font-size: 16px;
            }

            .carousel_text>div>p {
                font-size: 12px;
            }
        }

        @media (max-width: 360px) {
            .carousel_slide {
                flex-direction: column;
                align-items: center;
            }

            .carousel_container>.carousel_track>.carousel_slide>h2 {
                font-size: 16px;
            }

            .carousel_slide {
                font-size: 12px;
            }

            .carousel_slide img {
                width: 50%;
            }

            .carousel_content>div>h3 {
                font-size: 10px;
            }

            .carousel_content>div>strong {
                font-size: 10px;
            }

            .carousel_content>div>p {
                font-size: 10px;
            }
        }

        /* 미디어 끝 */

        /* 텍스트 */

        .carousel_slide>h2 {
            color: rgba(103, 77, 62, 1);
            font-size: 56px;
        }

        .carousel_content>h3 {
            font-size: 32px;
            margin-bottom: 16px;
        }

        .carousel_content>strong {
            font-weight: 900;
            font-size: 24px;
            line-height: 24px;
        }

        .carousel_content>p {
            font-size: 18px;
            margin-top: 8px;
        }
    </style>
</head>

<body>
    <section class="carousel_container">
        <button class="nav_button prev">&#10094;</button>
        <div class="carousel_track">
            <div class="carousel_slide">
                <h2>
                    Studio & Equipment
                </h2>
                <div class="carousel_text">
                    <img src="../img/01_slide.png" alt="Studio 1" />
                    <div class="carousel_content">

                        <h3>
                            Microphones
                        </h3>

                        <strong>
                            다이나믹 마이크
                        </strong>
                        <p>
                            라이브 사운드와 큰 소리의 소스에 적합합니다.
                        </p>

                        <strong>
                            콘덴서 마이크
                        </strong>
                        <p>
                            스튜디오 녹음, 보컬과 어쿠스틱 악기의
                            <br>
                            디테일을 포착하는데 이상적입니다.
                        </p>

                        <strong>
                            리본 마이크
                        </strong>
                        <p>
                            따뜻한 사운드로 유명하며,
                            <br>
                            현악기와 금관악기에 자주 사용됩니다.
                        </p>
                    </div>
                </div>
            </div>
            <div class="carousel_slide">
                <h2>
                    Studio & Equipment
                </h2>
                <div class="carousel_text">
                    <img src="../img/02_slide.png" alt="Studio 2" />
                    <div class="carousel_content">
                        <h3>
                            Digital Audio Workstation (DAW),
                            <br>
                            Signal Processor
                        </h3>

                        <strong>
                            DAW
                        </strong>
                        <p>
                            오디오 녹음, 편집, 믹싱에 사용되는
                            <br>
                            소프트웨어 플렛폼
                        </p>

                        <strong>
                            이퀄라이저
                        </strong>
                        <p>
                            오디오 신호의 주파수 균형을
                            <br>
                            조정합니다.
                        </p>

                        <strong>
                            컴프레서
                        </strong>
                        <p>
                            다이내믹 레인지를 제어하고
                            <br>
                            지속음을 추가합니다.
                        </p>
                    </div>
                </div>
            </div>
            <div class="carousel_slide">
                <h2>
                    Studio & Equipment
                </h2>
                <div class="carousel_text">
                    <img src="../img/03_slide.png" alt="Studio 3" />
                    <div class="carousel_content">
                        <h3>
                            Audio interfaces and monitors and
                            <br>
                            headphones
                        </h3>

                        <strong>
                            스튜디오 모니터
                        </strong>
                        <p>
                            스튜디오 환경에서 정확한 사운드
                            <br>
                            재생을 위해 설계되었습니다.
                        </p>

                        <strong>
                            오디오 인터페이스
                        </strong>
                        <p>
                            아날로그 신호를 디지털로 변환하여 컴퓨터에 녹음하며,
                            <br>
                            컴퓨터에서 스피커로 재생하는 기능도 수행합니다.
                        </p>

                        <strong>
                            헤드폰
                        </strong>
                        <p>
                            녹음과 믹스를 모니터링하는데 사용되며,
                            <br>
                            폐쇠형과 개방형 모두에 사용됩니다.
                        </p>
                    </div>
                </div>
            </div>
            <div class="carousel_slide">
                <h2>
                    Studio & Equipment
                </h2>
                <div class="carousel_text">
                    <img src="../img/04_slide.png" alt="Studio 4" />
                    <div class="carousel_content">
                        <h3>
                            Recording equipment and
                            <br>
                            sound processing
                        </h3>

                        <strong>
                            신호 프로세서
                        </strong>
                        <p>
                            다양한 환경에서 오디오를 캡쳐하는 휴대형 장치 및
                            <br>
                            여러 오디오 트랙을 동시에 녹음합니다.
                        </p>

                        <strong>
                            음향처리
                        </strong>
                        <p>
                            반사음과 배경 소음을 줄여,
                            <br>
                            녹음 공간의 음질을 개선하는 패널과 베이스 트랩.
                        </p>

                        <strong>
                            MIDI 컨트롤러
                        </strong>
                        <p>
                            DAW 내에서 가상 악기를 작곡하고 제어하는데
                            <br>
                            사용됩니다.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <button class="nav_button next">&#10095;</button>
        <div class="dots"></div>
    </section>

    <script>

        // 캐러셀 슬라이드
        const track = document.querySelector('.carousel_track');
        const slides = Array.from(track.children);
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');
        const dotsContainer = document.querySelector('.dots');

        // 복제 슬라이드 추가
        const firstClone = slides[0].cloneNode(true);
        const lastClone = slides[slides.length - 1].cloneNode(true);
        track.appendChild(firstClone);
        track.insertBefore(lastClone, track.firstChild);

        let allSlides = Array.from(track.children);
        let currentIndex = 1;
        let slideWidth = slides[0].getBoundingClientRect().width + 20; // gap 포함
        track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;

        // 도트 생성
        const realSlideCount = slides.length;
        let dots = [];
        for (let i = 0; i < realSlideCount; i++) {
            const dot = document.createElement('span');
            dot.classList.add('dot');
            if (i === 0) dot.classList.add('active');
            dotsContainer.appendChild(dot);
            dots.push(dot);
        }

        function updateDots(index) {
            dots.forEach(dot => dot.classList.remove('active'));
            dots[index % realSlideCount].classList.add('active');
        }

        function updateSlideStyles() {
            allSlides.forEach((slide, i) => {
                if (i === currentIndex) {
                    slide.classList.remove('dimmed');
                } else {
                    slide.classList.add('dimmed');
                }
            });
        }

        function moveToSlide(index) {
            track.style.transition = "transform 0.5s ease-in-out";
            track.style.transform = `translateX(-${slideWidth * index}px)`;
            currentIndex = index;
            updateDots(index - 1);
            updateSlideStyles();
        }

        nextBtn.addEventListener('click', () => {
            if (currentIndex >= allSlides.length - 1) return;
            moveToSlide(currentIndex + 1);
            resetAutoSlide();
        });

        prevBtn.addEventListener('click', () => {
            if (currentIndex <= 0) return;
            moveToSlide(currentIndex - 1);
            resetAutoSlide();
        });

        track.addEventListener('transitionend', () => {
            if (allSlides[currentIndex].isSameNode(firstClone)) {
                track.style.transition = "none";
                currentIndex = 1;
                requestAnimationFrame(() => {
                    track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;
                });
                updateSlideStyles();
            }
            if (allSlides[currentIndex].isSameNode(lastClone)) {
                track.style.transition = "none";
                currentIndex = allSlides.length - 2;
                requestAnimationFrame(() => {
                    track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;
                });
                updateSlideStyles();
            }
        });

        // 자동 슬라이드 (5초 간격)
        let autoSlide = setInterval(() => {
            if (currentIndex >= allSlides.length - 1) return;
            moveToSlide(currentIndex + 1);
        }, 5000);

        // 도트 클릭 시 해당 슬라이드로 이동
        dots.forEach((dot, idx) => {
            dot.addEventListener('click', () => {
                moveToSlide(idx + 1);
                resetAutoSlide();
            });
        });

        // 창 크기 변경 대응
        window.addEventListener('resize', () => {
            slideWidth = slides[0].getBoundingClientRect().width + 20;
            track.style.transition = "none";
            track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;
            updateSlideStyles();
        });

        // 자동 슬라이드 재시작 함수
        function resetAutoSlide() {
            clearInterval(autoSlide);
            autoSlide = setInterval(() => {
                moveToSlide(currentIndex + 1);
            }, 5000);
        }

        updateSlideStyles();

    </script>
</body>

</html>